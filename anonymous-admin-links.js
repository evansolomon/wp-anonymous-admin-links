// Generated by CoffeeScript 1.6.1
(function() {
  var isExternal;

  String.prototype.startsWith = function(comparison) {
    return this.substring(0, comparison.length) === comparison;
  };

  isExternal = function(href) {
    if (!href.startsWith('http')) {
      return false;
    }
    if (href.startsWith('http://href.li/?')) {
      return false;
    }
    return !href.startsWith(location.origin);
  };

  jQuery(function($) {
    return $('body').on('mousedown', 'a', function() {
      if (isExternal(this.href)) {
        return $(this).attr('href', "http://href.li/?" + this.href);
      }
    });
  });

}).call(this);
